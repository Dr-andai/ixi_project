<div style="display: flex; flex-wrap: nowrap; overflow-x: auto; gap: 1.5rem; margin-top: 2rem; padding-bottom: 1rem;">
    {% for row in results %}
    <div style="flex: 0 0 auto; border: 1px solid #ddd; border-radius: 10px; padding: 1rem; width: 220px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center;">
        {% if row.image_path %}
        <img src="{{ row.image_path }}" alt="MRI Slice" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 1rem;">
        {% else %}
        <div style="width: 100%; height: 150px; background-color: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #777; margin-bottom: 1rem;">
            No Image
        </div>
        {% endif %}

        <h3 style="margin: 0 0 0.5rem;">{{ row.participant_id }}</h3>
        <p><strong>Age:</strong> {{ row.age }}</p>
        <p><strong>Sex:</strong> {{ row.sex }}</p>
        <p><strong>Height:</strong> {{ row.height }}</p>
        <p><strong>Weight:</strong> {{ row.weight }}</p>
        {% if row.distance %}
        <p><strong>Similarity:</strong> {{ "%.3f"|format(row.distance) }}</p>
        {% endif %}
    </div>
    {% endfor %}
</div>
